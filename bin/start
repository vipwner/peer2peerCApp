#!/usr/bin/env bash
set -e

echo "ðŸš€ Starting P2P application..."

export COMPOSE_HTTP_TIMEOUT=360

if ! docker compose ps | grep 'Up'; then
    echo "ðŸ”„ Starting all containers and attaching logs..."
    docker compose up --remove-orphans --attach p2p_server --attach p2p_client
else
    echo "ðŸ”„ Services already running, attaching to logs..."
    docker compose up --no-deps --attach p2p_server --attach p2p_client
fi
